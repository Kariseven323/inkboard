# 砚记(Inkboard) - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
砚记是一款极简主义的Markdown日记应用，专为个人日常记录和思考而设计。产品追求"不被软件生态绑架"的理念，提供纯粹、专注的写作体验。

### 1.2 产品目标
- 提供流畅的Markdown编辑体验
- 实现Facebook风格的现代化UI设计
- 支持iOS原生动效，提升用户体验
- 确保数据安全和隐私保护
- 保持应用的轻量化和响应速度

### 1.3 目标用户
- 主要用户：开发者本人
- 使用场景：个人日记记录、想法记录、知识管理

## 2. 核心功能需求

### 2.1 基础功能
#### 2.1.1 日记管理 (CRUD)
- **创建(Create)**: 新建Markdown格式日记
- **读取(Read)**: 浏览和搜索历史日记
- **更新(Update)**: 编辑和修改日记内容
- **删除(Delete)**: 删除不需要的日记条目

#### 2.1.2 Markdown支持
- 标准Markdown语法支持
- 实时预览功能
- 语法高亮
- 支持表格、代码块、链接等元素

### 2.2 用户界面功能
#### 2.2.1 主页面 (Facebook风格)
- 时间线式的日记列表
- 卡片式布局设计
- 平滑的滚动体验
- 优雅的加载动画

#### 2.2.2 编辑器
- 分屏预览模式
- 全屏写作模式
- 自动保存功能
- 字数统计

#### 2.2.3 导航和搜索
- 按日期筛选
- 标签分类
- 全文搜索
- 收藏功能

## 3. 技术需求

### 3.1 平台支持
- iOS优先开发
- Android兼容
- 使用Flutter跨平台框架

### 3.2 性能要求
- 应用启动时间 < 3秒
- 页面切换动画流畅(60fps)
- 内存占用优化
- 电池使用优化

### 3.3 数据存储
- 本地SQLite数据库
- 支持数据导出(Markdown格式)
- 数据加密存储
- 自动备份机制

## 4. UI/UX设计要求

### 4.1 设计风格
- **整体风格**: 仿Facebook的现代简约设计
- **色彩方案**: 自定义配色，避免Facebook原色
- **动效**: iOS原生风格的过渡动画
- **字体**: 系统默认字体，保证可读性

### 4.2 关键页面设计
#### 4.2.1 主页面
- 顶部搜索栏
- 浮动操作按钮(新建日记)
- 日记卡片列表
- 底部标签导航

#### 4.2.2 编辑页面
- 顶部工具栏(保存、预览、格式化)
- Markdown编辑器
- 底部状态栏(字数、最后保存时间)

#### 4.2.3 设置页面
- 主题切换
- 数据导出
- 关于页面

### 4.3 交互设计
- 手势操作支持(滑动删除、拉下刷新)
- 触觉反馈
- 响应式布局
- 暗黑模式支持

## 5. 用户故事

### 5.1 Epic 1: 日记创建和编辑
**作为用户，我希望能够快速创建和编辑日记**

#### 用户故事 1.1
- **作为**用户
- **我希望**点击浮动按钮快速创建新日记
- **以便于**及时记录当下的想法

**验收标准:**
- 点击浮动按钮后0.5秒内打开编辑器
- 编辑器默认显示当前日期和时间
- 支持Markdown实时预览

#### 用户故事 1.2
- **作为**用户
- **我希望**在编辑时看到实时的Markdown渲染效果
- **以便于**确保格式正确

**验收标准:**
- 分屏模式显示源码和预览
- 预览内容实时更新
- 支持滚动同步

### 5.2 Epic 2: 日记浏览和管理
**作为用户，我希望能够高效地浏览和管理历史日记**

#### 用户故事 2.1
- **作为**用户
- **我希望**在主页看到时间线式的日记列表
- **以便于**快速回顾历史记录

**验收标准:**
- 按时间倒序显示日记
- 每个卡片显示标题、预览和时间
- 支持分页加载

#### 用户故事 2.2
- **作为**用户
- **我希望**能够快速搜索特定的日记内容
- **以便于**找到需要的信息

**验收标准:**
- 全局搜索功能
- 支持标题和内容搜索
- 搜索结果高亮显示

## 6. 非功能性需求

### 6.1 安全性
- 数据本地加密存储
- 无网络依赖，保护隐私
- 支持Touch ID/Face ID解锁

### 6.2 可用性
- 界面直观易用
- 支持暗黑模式
- 支持字体大小调节
- 支持横屏模式

### 6.3 兼容性
- iOS 13.0+
- Android 7.0+
- 支持不同屏幕尺寸

### 6.4 可维护性
- 模块化代码结构
- 完整的单元测试覆盖
- 详细的API文档

## 7. 版本规划

### 7.1 MVP版本 (v1.0)
- 基础CRUD功能
- Markdown编辑器
- 简单的列表视图
- 本地数据存储

### 7.2 增强版本 (v1.1)
- 搜索功能
- 标签系统
- 数据导出
- 主题切换

### 7.3 完整版本 (v1.2)
- 高级动画效果
- 手势操作
- 性能优化
- 更多自定义选项

## 8. 成功指标

### 8.1 功能指标
- 所有CRUD操作响应时间 < 1秒
- 应用崩溃率 < 0.1%
- 数据丢失率 = 0%

### 8.2 体验指标
- 动画流畅度 60fps
- 用户界面响应时间 < 300ms
- 内存使用 < 100MB

### 8.3 质量指标
- 代码测试覆盖率 > 80%
- 代码质量评分 > 90%
- 符合iOS Human Interface Guidelines

## 9. 风险和假设

### 9.1 技术风险
- Flutter性能在复杂动画场景下的表现
- iOS平台的原生动效实现难度
- 大量日记数据的性能影响

### 9.2 业务假设
- 用户主要使用场景为个人记录
- Markdown格式满足用户需求
- Facebook风格的UI设计符合用户喜好

### 9.3 风险缓解
- 早期性能测试和优化
- 渐进式功能发布
- 用户反馈驱动的迭代开发

---

**文档版本**: v1.0
**创建日期**: 2025-09-22
**最后更新**: 2025-09-22
**作者**: 成东杰